{"version":3,"file":"activationFailedController.iife.min.js","sources":["../views/utilities/AlertDialog.js","../views/activation-failed.js","activationFailedController.js"],"sourcesContent":["/* globals $ */\n\nconst AlertDialog = {\n  /**\n   * @param {PlainObject} cfg\n   * @param {string} cfg.heading\n   * @param {external:jQuery} cfg.body\n   * @param {boolean} cfg.keyboard\n   * @param {boolean|\"static\"} cfg.backdrop\n   * @returns {external:jQuery} `HTMLDivElement`\n   */\n  populate ({\n    heading,\n    body,\n    keyboard,\n    backdrop\n  }) {\n    $('[data-name=modal-alert]').modal({\n      show: false, keyboard, backdrop\n    });\n    $('[data-name=modal-alert] .modal-header [data-name=modal-title]').text(\n      heading\n    );\n    $('[data-name=modal-alert] [data-name=modal-body] p').empty().append(body);\n    return $('[data-name=modal-alert]');\n  }\n};\n\nexport default AlertDialog;\n","/* globals $, _, NodeLoginInitialErrorGlobal */\nimport AlertDialog from './utilities/AlertDialog.js';\n\nconst ActivationFailedView = {\n  /**\n   * @returns {external:jQuery} `HTMLDivElement`\n   */\n  accountFailedActivation () {\n    // Set up the alert that displays when an account has not been activated.\n    return AlertDialog.populate({\n      heading: _('ActivationFailed'),\n      body: _(\n        // Passed from server so we can set in JS\n        NodeLoginInitialErrorGlobal,\n        {\n          lb: $('<br/>')[0]\n        }\n      ),\n      keyboard: false,\n      backdrop: 'static'\n    });\n  },\n  /**\n   * @param {external:jQuery} accountActivatedAlertDialog `HTMLDivElement`\n   * @returns {external:jQuery} `HTMLButtonElement`\n   */\n  getOKButton (accountActivatedAlertDialog) {\n    return accountActivatedAlertDialog.find('[data-name=ok]');\n  }\n};\nexport default ActivationFailedView;\n","/* globals NL_ROUTES */\n\nimport ActivationFailedView from '../views/activation-failed.js';\n\nconst accountFailedActivationAlertDialog =\n  ActivationFailedView.accountFailedActivation();\naccountFailedActivationAlertDialog.modal('show');\n\nconst okButton = ActivationFailedView.getOKButton(\n  accountFailedActivationAlertDialog\n);\nokButton.click(function () {\n  // Redirect to homepage on account failure, adding short delay so user\n  //   can read alert window\n  setTimeout(function () {\n    location.href = NL_ROUTES.root;\n  }, 300);\n});\n"],"names":["AlertDialog","heading","body","keyboard","backdrop","$","modal","show","text","empty","append","ActivationFailedView","accountActivatedAlertDialog","find","accountFailedActivationAlertDialog","_","NodeLoginInitialErrorGlobal","lb","click","setTimeout","location","href","NL_ROUTES","root"],"mappings":"yBAEA,IAAMA,kBAUFC,IAAAA,QACAC,IAAAA,KACAC,IAAAA,SACAC,IAAAA,gBAEAC,EAAE,2BAA2BC,MAAM,CACjCC,MAAM,EAAOJ,SAAAA,EAAUC,SAAAA,IAEzBC,EAAE,iEAAiEG,KACjEP,GAEFI,EAAE,oDAAoDI,QAAQC,OAAOR,GAC9DG,EAAE,4BCrBPM,WAuBSC,UACJA,EAA4BC,KAAK,mBCvBtCC,oBDKKd,EAAqB,CAC1BC,QAASc,EAAE,oBACXb,KAAMa,EAEJC,4BACA,CACEC,GAAIZ,EAAE,SAAS,KAGnBF,UAAU,EACVC,SAAU,WCddO,GACFG,EAAmCR,MAAM,QAExBK,EACfG,GAEOI,OAAM,WAGbC,YAAW,WACTC,SAASC,KAAOC,UAAUC,OACzB"}