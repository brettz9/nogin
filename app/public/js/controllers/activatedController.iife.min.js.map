{"version":3,"file":"activatedController.iife.min.js","sources":["../views/utilities/AlertDialog.js","../views/activated.js","activatedController.js"],"sourcesContent":["/* globals $ -- `$` is jQuery not ESM */\n\n/**\n * @typedef {JQuery & {\n *   modal: (showOrHide: \"show\"|\"hide\"|{\n *     show: boolean,\n *     keyboard: boolean,\n *     backdrop: boolean|\"static\"\n *   }) => JQueryWithModal\n * }} JQueryWithModal\n */\n\nconst AlertDialog = {\n  /**\n   * @param {object} cfg\n   * @param {string} cfg.heading\n   * @param {Element|string} cfg.body\n   * @param {boolean} cfg.keyboard\n   * @param {boolean|\"static\"} cfg.backdrop\n   * @returns {JQueryWithModal} `HTMLDivElement`\n   */\n  populate ({\n    heading,\n    body,\n    keyboard,\n    backdrop\n  }) {\n    const modal = /** @type {JQueryWithModal} */ (\n      $('[data-name=modal-alert]')).modal({\n      show: false, keyboard, backdrop\n    });\n    $('[data-name=modal-alert] .modal-header [data-name=modal-title]').text(\n      heading\n    );\n    $('[data-name=modal-alert] [data-name=modal-body] p').empty().append(body);\n    $('[data-name=modal-alert] button').on('click', (e) => {\n      e.preventDefault();\n      modal.modal('hide');\n    });\n    return modal;\n  }\n};\n\nexport default AlertDialog;\n","/* globals $, Nogin -- `$` is jQuery not ESM, `Nogin` is server-set */\nimport AlertDialog from './utilities/AlertDialog.js';\n\nconst ActivatedView = {\n  /**\n   * @returns {JQuery & {\n   *   modal: (showOrHide: \"show\"|\"hide\") => void\n   * }} `HTMLDivElement`\n   */\n  accountActivated () {\n    // Set up the alert that displays when an account has been activated\n    return AlertDialog.populate({\n      heading: /** @type {string} */ (Nogin._('Activated')),\n      body: /** @type {Element} */ (Nogin._('yourAccountHasBeenActivated', {\n        lb: $('<br/>')[0]\n      })),\n      keyboard: false,\n      backdrop: 'static'\n    });\n  },\n  /**\n   * @param {JQuery} accountFailedActivationAlertDialog\n   *  `HTMLDivElement`\n   * @returns {JQuery} `HTMLButtonElement`\n   */\n  getOKButton (accountFailedActivationAlertDialog) {\n    return accountFailedActivationAlertDialog.find('[data-name=ok]');\n  }\n};\n\nexport default ActivatedView;\n","/* globals Nogin -- Server-set */\n\nimport ActivatedView from '../views/activated.js';\n\nconst accountActivatedAlertDialog = ActivatedView.accountActivated();\naccountActivatedAlertDialog.modal('show');\n\nconst okButton = ActivatedView.getOKButton(accountActivatedAlertDialog);\nokButton.on('click', function () {\n  // Redirect to homepage on account activation, adding short delay so user\n  //   can read alert window\n  setTimeout(function () {\n    Nogin.redirect('root');\n  }, 3000);\n});\n"],"names":["AlertDialog","populate","_ref","heading","body","keyboard","backdrop","modal","$","show","text","empty","append","on","e","preventDefault","ActivatedView","getOKButton","accountFailedActivationAlertDialog","find","accountActivatedAlertDialog","Nogin","_","lb","setTimeout","redirect"],"mappings":"yBAYA,IAAMA,EASJC,SAAQC,GAKL,IAJDC,EAAOD,EAAPC,QACAC,EAAIF,EAAJE,KACAC,EAAQH,EAARG,SACAC,EAAQJ,EAARI,SAEMC,EACJC,EAAE,2BAA4BD,MAAM,CACpCE,MAAM,EAAOJ,SAAAA,EAAUC,SAAAA,IAUzB,OARAE,EAAE,iEAAiEE,KACjEP,GAEFK,EAAE,oDAAoDG,QAAQC,OAAOR,GACrEI,EAAE,kCAAkCK,GAAG,SAAS,SAACC,GAC/CA,EAAEC,iBACFR,EAAMA,MAAM,OACd,IACOA,CACT,ECrCIS,EAsBJC,SAAaC,GACX,OAAOA,EAAmCC,KAAK,iBACjD,ECvBIC,EDKY,WAEd,OAAOpB,EAAqB,CAC1BG,QAAgCkB,MAAMC,EAAE,aACxClB,KAA8BiB,MAAMC,EAAE,8BAA+B,CACnEC,GAAIf,EAAE,SAAS,KAEjBH,UAAU,EACVC,SAAU,UAEb,CCfiCU,GACpCI,EAA4Bb,MAAM,QAEjBS,EAA0BI,GAClCP,GAAG,SAAS,WAGnBW,YAAW,WACTH,MAAMI,SAAS,OAChB,GAAE,IACL"}