{"version":3,"file":"loginController.iife.min.js","sources":["../utilities/ajaxFormClientSideValidate.js","../views/login.js","../views/validators/LoginValidatorView.js","../views/utilities/AlertDialog.js","../form-validators/LoginValidator.js","../views/validators/EmailValidatorView.js","../form-validators/EmailValidator.js","loginController.js"],"sourcesContent":["const ajaxFormClientSideValidate = (form, {\n  validate,\n  // `ajaxForm` properties and methods\n  url,\n  beforeSubmit,\n  success,\n  error\n}) => {\n  // As per problem #3 at https://www.html5rocks.com/en/tutorials/forms/constraintvalidation/#toc-current-implementation-issues ,\n  //  we can't do the validation at submit, so we instead add a capturing\n  //  change listener as well as input listeners to reset the messages;\n  //  note that we can't use the `invalid` event to call `reportValidity`\n  //  after our `setCustomValidity()` (to ensure we get the bubbles showing)\n  //  as that fires further `invalid` events; and setting the form to\n  //  `novalidate` won't show the bubbles.\n  form[0].addEventListener('change', (e) => {\n    // Provide custom messages of invalidity\n    validate(e);\n  }, true);\n\n  form[0].addEventListener('input', ({target: field}) => {\n    field.setCustomValidity('');\n    field.checkValidity('');\n  }, true);\n\n  return form.ajaxForm({\n    url,\n    beforeSubmit,\n    success,\n    error\n  });\n};\n\nexport default ajaxFormClientSideValidate;\n","/* globals $, _ */\n\nconst LoginView = {\n  /**\n   * @returns {external:jQuery} `HTMLDivElement`\n   */\n  getInputForInitialFocus () {\n    return $('input:text:visible:first');\n  },\n  /**\n   * @returns {external:jQuery} `HTMLDivElement`\n   */\n  getLoginModal () {\n    return $('#login');\n  },\n\n  /**\n   * @returns {external:jQuery} `HTMLDivElement`\n   */\n  retrievePasswordModal () {\n    const retrievePasswordModal = $('#retrieve-password');\n    retrievePasswordModal.modal({\n      show: false, keyboard: true, backdrop: true\n    });\n    return retrievePasswordModal;\n  },\n\n  /**\n   * @param {external:jQuery} retrievePasswordModal `HTMLDivElement`\n   * @returns {external:jQuery} `HTMLFormElement`\n   */\n  retrievePasswordForm (retrievePasswordModal) {\n    return retrievePasswordModal.find('#retrieve-password-form');\n  },\n\n  /**\n   * @returns {external:jQuery} `HTMLFormElement`\n   */\n  getLoginForm () {\n    return $('[data-name=login] form');\n  },\n\n  /**\n   * @param {external:jQuery} retrievePasswordModal `HTMLDivElement`\n   * @returns {external:jQuery} `HTMLButtonElement`\n   */\n  retrievePasswordSubmit (retrievePasswordModal) {\n    return retrievePasswordModal.find('[data-name=retrieve-password-submit]');\n  },\n\n  /**\n   * @param {external:jQuery} retrievePasswordModal `HTMLDivElement`\n   * @returns {external:jQuery} `HTMLButtonElement`\n   */\n  retrievePasswordCancel (retrievePasswordModal) {\n    return retrievePasswordModal.find('[data-name=retrieve-password-cancel]');\n  },\n\n  /**\n   * @param {external:jQuery} retrievePasswordModal `HTMLDivElement`\n   * @returns {external:jQuery} `HTMLInputElement`\n   */\n  retrieveLostPasswordEmail (retrievePasswordModal) {\n    return retrievePasswordModal.find('[data-name=\"email\"]');\n  },\n\n  /**\n   * @param {external:jQuery} loginModal `HTMLDivElement`\n   * @returns {external:jQuery} `HTMLInputElement`\n   */\n  getLostPasswordUsername (loginModal) {\n    return loginModal.find('[data-name=\"user\"]');\n  },\n\n  /**\n   * @param {external:jQuery} loginModal\n   * @returns {external:jQuery} `HTMLDivElement`\n   */\n  getForgotPassword (loginModal) {\n    return loginModal.find('[data-name=\"forgot-password\"]');\n  },\n\n  /**\n  * @param {external:jQuery} loginModal\n  * @returns {external:jQuery} `HTMLButtonElement`\n  */\n  getRememberMeButton (loginModal) {\n    return loginModal.find('button.remember-me');\n  },\n\n  /**\n  * @param {external:jQuery} loginModal\n  * @returns {boolean}\n  */\n  isRememberMeChecked (loginModal) {\n    return this.getRememberMeButton(loginModal).find('span').hasClass(\n      'fa-check-square'\n    );\n  },\n\n  /**\n  * @param {external:jQuery} retrievePasswordModal `HTMLDivElement`\n  * @returns {void}\n  */\n  setRetrievePasswordCancel (retrievePasswordModal) {\n    return this.retrievePasswordCancel(retrievePasswordModal).text(_('Cancel'));\n  },\n\n  /**\n  * @param {external:jQuery} loginModal\n  * @returns {void}\n  */\n  toggleCheckSquare (loginModal) {\n    const span = this.getRememberMeButton(loginModal).find('span');\n    // Todo[cypress@>4.3.0]: Remove this disabling of istanbul to see if fixed\n    //   see https://github.com/cypress-io/cypress/issues/6678\n    // istanbul ignore if\n    if (span.hasClass('fa-minus-square')) {\n      span.removeClass('fa-minus-square')\n        .addClass('fa-check-square');\n    } else {\n      span.addClass('fa-minus-square')\n        .removeClass('fa-check-square');\n    }\n  },\n\n  /**\n   * @param {external:jQuery} retrievePasswordModal `HTMLDivElement`\n   * @returns {void}\n   */\n  switchConfirmToAlert (retrievePasswordModal) {\n    this.retrievePasswordCancel(retrievePasswordModal).text('OK');\n  }\n};\n\nexport default LoginView;\n","/* globals $, _ */\n\n/**\n* @typedef {PlainObject} LoginInfoElements\n* @property {external:jQuery} name\n* @property {external:jQuery} pass\n*/\n\nconst LoginValidatorView = {\n  /**\n   * @returns {LoginInfoElements}\n   */\n  getFormFields () {\n    return {\n      user: $('[data-name=\"user\"]')[0],\n      pass: $('[data-name=\"pass\"]')[0]\n    };\n  },\n\n  errorMessages: {\n    PleaseEnterValidUserName: _('PleaseEnterValidUserName'),\n    PleaseEnterValidPassword: _('PleaseEnterValidPassword'),\n    LoginFailure: _('LoginFailure'),\n    PleaseCheckYourUserNameOrPassword: _('PleaseCheckYourUserNameOrPassword'),\n    MismatchUserDataFormat: _('MismatchUserDataFormat')\n  },\n\n  messages: {\n    LinkToResetPasswordMailed: _('LinkToResetPasswordMailed'),\n    EmailNotFound: _('EmailNotFound'),\n    ProblemTryAgainLater: _('ProblemTryAgainLater')\n  }\n};\n\nexport default LoginValidatorView;\n","/* globals $ */\n\nconst AlertDialog = {\n  /**\n   * @param {PlainObject} cfg\n   * @param {string} cfg.heading\n   * @param {external:jQuery} cfg.body\n   * @param {boolean} cfg.keyboard\n   * @param {boolean|\"static\"} cfg.backdrop\n   * @returns {external:jQuery} `HTMLDivElement`\n   */\n  populate ({\n    heading,\n    body,\n    keyboard,\n    backdrop\n  }) {\n    $('[data-name=modal-alert]').modal({\n      show: false, keyboard, backdrop\n    });\n    $('[data-name=modal-alert] .modal-header [data-name=modal-title]').text(\n      heading\n    );\n    $('[data-name=modal-alert] [data-name=modal-body] p').empty().append(body);\n    return $('[data-name=modal-alert]');\n  }\n};\n\nexport default AlertDialog;\n","import AlertDialog from '../views/utilities/AlertDialog.js';\nimport LoginValidatorView from '../views/validators/LoginValidatorView.js';\n\nconst {user, pass} = LoginValidatorView.getFormFields();\n\n/**\n * Login validation.\n */\nconst LoginValidator = class LoginValidator {\n  /**\n   * @returns {boolean}\n   */\n  static validateForm () {\n    if (user.validity.valueMissing) {\n      user.setCustomValidity(\n        LoginValidatorView.errorMessages.PleaseEnterValidUserName\n      );\n      user.form.reportValidity();\n      return false;\n    }\n    if (pass.validity.valueMissing) {\n      pass.setCustomValidity(\n        LoginValidatorView.errorMessages.PleaseEnterValidPassword\n      );\n      pass.form.reportValidity();\n      return false;\n    }\n    return true;\n  }\n\n  /**\n  * Bind a simple alert window to this controller to display any errors.\n  * @param {string} msg\n  * @returns {void}\n  */\n  static showLoginError (msg) {\n    const loginErrors = AlertDialog.populate({\n      heading: LoginValidatorView.errorMessages.LoginFailure,\n      body: msg\n        ? LoginValidatorView.errorMessages[msg]\n        : LoginValidatorView.errorMessages.PleaseCheckYourUserNameOrPassword,\n      keyboard: true,\n      backdrop: true\n    });\n    loginErrors.modal('show');\n  }\n};\n\nexport default LoginValidator;\n","/* globals $, _ */\n\n/**\n* @typedef {PlainObject} EmailInfoElements\n* @property {external:jQuery} name\n* @property {external:jQuery} email\n* @property {external:jQuery} user\n* @property {external:jQuery} pass\n*/\n\nconst EmailValidatorView = {\n  /**\n   * @returns {AccountInfoElements}\n   */\n  getFormFields () {\n    return {\n      retrievePasswordModal: $('#retrieve-password'),\n      retrievePasswordAlert: $('#retrieve-password [data-name=alert]'),\n      retrievePasswordForm: $('#retrieve-password #retrieve-password-form')\n    };\n  },\n\n  /**\n   * @param {string} msg\n   */\n  addSuccess (msg) {\n    const {retrievePasswordAlert} = this.getFormFields();\n    retrievePasswordAlert.attr('class', 'alert alert-success');\n    retrievePasswordAlert.text(msg);\n  },\n\n  messages: {\n    PleaseEnterValidEmailAddress: _('PleaseEnterValidEmailAddress')\n  }\n};\n\nexport default EmailValidatorView;\n","import EmailValidatorView from '../views/validators/EmailValidatorView.js';\n\n/**\n * Validator for email addresses.\n */\nconst EmailValidator = class EmailValidator {\n  /**\n   * @param {HTMLInputElement} input Email input element\n   * @returns {boolean} Whether valid\n   */\n  static validateEmail (input) {\n    input.setCustomValidity('');\n    if (input.validity.patternMismatch) {\n      input.setCustomValidity(\n        EmailValidatorView.messages.PleaseEnterValidEmailAddress\n      );\n    }\n    return input.form.reportValidity();\n  }\n\n  /**\n   * Sets up properties and events.\n   */\n  constructor () {\n    const {\n      retrievePasswordModal, retrievePasswordAlert, retrievePasswordForm\n    } = EmailValidatorView.getFormFields();\n\n    retrievePasswordModal.on('show.bs.modal', () => {\n      retrievePasswordForm.resetForm();\n      retrievePasswordAlert.hide();\n    });\n\n    this.retrievePasswordAlert = retrievePasswordAlert;\n  }\n\n  /**\n   * @param {string} msg The message\n   * @returns {void}\n   */\n  showEmailAlert (msg) {\n    EmailValidatorView.addSuccess(msg);\n    this.retrievePasswordAlert.show();\n  }\n\n  /**\n   * @returns {void}\n   */\n  hideEmailAlert () {\n    this.retrievePasswordAlert.hide();\n  }\n\n  /**\n   * @param {string} msg The message\n   * @returns {void}\n   */\n  showEmailSuccess (msg) {\n    EmailValidatorView.addSuccess(msg);\n    this.retrievePasswordAlert.fadeIn(500);\n  }\n};\n\nexport default EmailValidator;\n","/* globals NL_ROUTES */\n\nimport ajaxFormClientSideValidate from\n  '../utilities/ajaxFormClientSideValidate.js';\nimport LoginView from '../views/login.js';\nimport LoginValidatorView from '../views/validators/LoginValidatorView.js';\nimport LoginValidator from '../form-validators/LoginValidator.js';\nimport EmailValidator from '../form-validators/EmailValidator.js';\n\nconst loginModal = LoginView.getLoginModal();\nconst loginForm = LoginView.getLoginForm();\nconst forgotPassword = LoginView.getForgotPassword(loginModal);\nconst rememberMeButton = LoginView.getRememberMeButton(loginModal);\nconst lostPasswordUsername = LoginView.getLostPasswordUsername(loginModal);\n\nconst retrievePasswordModal = LoginView.retrievePasswordModal();\n\nconst retrievePasswordEmail = LoginView.retrieveLostPasswordEmail(\n  retrievePasswordModal\n);\nconst retrievePasswordForm = LoginView.retrievePasswordForm(\n  retrievePasswordModal\n);\nconst retrievePasswordSubmit = LoginView.retrievePasswordSubmit(\n  retrievePasswordModal\n);\n\n// bind event listeners to button clicks\nretrievePasswordSubmit.click(() => {\n  retrievePasswordForm.submit();\n});\nforgotPassword.click(() => {\n  const retrievePasswordCancel = LoginView.setRetrievePasswordCancel(\n    retrievePasswordModal\n  );\n\n  // This isn't always happening automatically\n  retrievePasswordCancel.click(() => {\n    // retrievePasswordModal.modal('hide');\n    lostPasswordUsername.focus();\n  });\n\n  retrievePasswordSubmit.show();\n  retrievePasswordModal.modal('show');\n});\n\n// automatically toggle focus between the email modal window and\n//   the login form\nretrievePasswordModal.on('shown.bs.modal', () => {\n  retrievePasswordEmail.focus();\n});\n/*\n// This was not consistently triggering in Cypress, so added click\n//    listener above to do the focusing\nretrievePasswordModal.on('hide.bs.modal', () => {\n  lostPasswordUsername.focus();\n});\n*/\n\najaxFormClientSideValidate(\n  loginForm,\n  {\n    validate () {\n      LoginValidator.validateForm();\n    },\n    beforeSubmit (formData, jqForm, options) {\n      /*\n      // Doesn't get here; see comment above on validation\n      if (!LoginValidator.validateForm()) {\n        return false;\n      }\n      */\n      // append 'remember-me' option to formData to write local cookie\n      formData.push({\n        name: 'remember-me',\n        value: LoginView.isRememberMeChecked(loginModal)\n      });\n      return true;\n    },\n    success (responseText, status, xhr, $form) {\n      // \"nocontent\" (204), \"notmodified\" (304), \"parseerror\" (JSON or XML)\n      // istanbul ignore else\n      if (status === 'success') {\n        location.href = NL_ROUTES.home;\n      }\n    },\n    error (e) {\n      switch (e.responseText) {\n      case 'unexpected-pass-version-error':\n        LoginValidator.showLoginError('MismatchUserDataFormat');\n        break;\n      default:\n        LoginValidator.showLoginError();\n        break;\n      }\n    }\n  }\n);\n\nLoginView.getInputForInitialFocus().focus();\nrememberMeButton.click(function () {\n  LoginView.toggleCheckSquare(loginModal);\n});\n\n// login retrieval form via email\nconst ev = new EmailValidator();\n\najaxFormClientSideValidate(\n  retrievePasswordForm,\n  {\n    validate () {\n      const emailInput = retrievePasswordEmail[0];\n      if (EmailValidator.validateEmail(emailInput)) {\n        ev.hideEmailAlert();\n      }\n    },\n    url: NL_ROUTES.lostPassword,\n    success (responseText, status, xhr, $form) {\n      LoginView.switchConfirmToAlert(retrievePasswordModal);\n      retrievePasswordSubmit.hide();\n      ev.showEmailSuccess(\n        LoginValidatorView.messages.LinkToResetPasswordMailed\n      );\n    },\n    error (e) {\n      if (e.responseText === 'email-not-found') {\n        ev.showEmailAlert(LoginValidatorView.messages.EmailNotFound);\n      } else {\n        console.log(e);\n        LoginView.switchConfirmToAlert(retrievePasswordModal);\n        retrievePasswordSubmit.hide();\n        ev.showEmailAlert(LoginValidatorView.messages.ProblemTryAgainLater);\n      }\n    }\n  }\n);\n"],"names":["ajaxFormClientSideValidate","form","validate","url","beforeSubmit","success","error","addEventListener","e","field","target","setCustomValidity","checkValidity","ajaxForm","LoginView","getInputForInitialFocus","$","getLoginModal","retrievePasswordModal","modal","show","keyboard","backdrop","retrievePasswordForm","find","getLoginForm","retrievePasswordSubmit","retrievePasswordCancel","retrieveLostPasswordEmail","getLostPasswordUsername","loginModal","getForgotPassword","getRememberMeButton","isRememberMeChecked","this","hasClass","setRetrievePasswordCancel","text","_","toggleCheckSquare","span","removeClass","addClass","switchConfirmToAlert","LoginValidatorView","getFormFields","user","pass","errorMessages","PleaseEnterValidUserName","PleaseEnterValidPassword","LoginFailure","PleaseCheckYourUserNameOrPassword","MismatchUserDataFormat","messages","LinkToResetPasswordMailed","EmailNotFound","ProblemTryAgainLater","AlertDialog","heading","body","empty","append","LoginValidator","validity","valueMissing","reportValidity","msg","EmailValidatorView","retrievePasswordAlert","addSuccess","attr","PleaseEnterValidEmailAddress","EmailValidator","on","resetForm","hide","input","patternMismatch","fadeIn","loginForm","forgotPassword","rememberMeButton","lostPasswordUsername","retrievePasswordEmail","click","submit","focus","validateForm","formData","jqForm","options","push","name","value","responseText","status","xhr","$form","location","href","NL_ROUTES","home","showLoginError","ev","emailInput","validateEmail","hideEmailAlert","lostPassword","showEmailSuccess","showEmailAlert","console","log"],"mappings":"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"}