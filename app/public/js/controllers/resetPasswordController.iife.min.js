!function(){"use strict";var e=function(){return $("#set-password-form")},t=function(){return $('[data-name="reset-pass"]')},s=function(){return $('[data-name="reset-password-submit"]')};function n(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,s){return t&&n(e.prototype,t),s&&n(e,s),e}var r,a,i,u,l,d,c,f=Nogin._,h=$("#set-password"),m={setPasswordDialog:function(){return h.modal({show:!1,keyboard:!1,backdrop:"static"}),h},getSetPasswordAlert:function(){return h.find(".alert")},showSuccess:function(){this.addAlert(f("YourPasswordHasBeenReset"))},addAlert:function(e){this.getSetPasswordAlert().text(e)},showDanger:function(){this.addAlert(f("SomethingWentWrongPleaseTryAgain"))},messages:{ShouldBeMinimumLength:f("ShouldBeMinimumLength")}},w=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.modal=m.setPasswordDialog(),this.alert=m.getSetPasswordAlert(),this.alert.hide()}return o(e,null,[{key:"validatePassword",value:function(e){return e.setCustomValidity(""),e.validity.tooShort&&e.setCustomValidity(m.messages.ShouldBeMinimumLength),e.form.reportValidity()}}]),o(e,[{key:"getPasswordDialog",value:function(){return this.modal}},{key:"showAlert",value:function(){m.showDanger(),this.alert.show()}},{key:"hideAlert",value:function(){this.alert.hide()}},{key:"showSuccess",value:function(){m.showSuccess(),this.alert.fadeIn(500)}}]),e}(),g=new w,v=t(),b=s(),y=e();r=y,i=(a={validate:function(){g.hideAlert(),w.validatePassword(v[0])},beforeSubmit:function(e,t,s){g.hideAlert()},success:function(e,t,s,n){b.addClass("disabled"),b.prop("disabled",!0),g.showSuccess(),setTimeout((function(){Nogin.redirect("root")}),3e3)},error:function(){g.showAlert()}}).validate,u=a.url,l=a.beforeSubmit,d=a.success,c=a.error,r[0].addEventListener("change",(function(e){i(e)}),!0),r[0].addEventListener("input",(function(e){var t=e.target;t.setCustomValidity(""),t.checkValidity("")}),!0),r.ajaxForm({url:u,beforeSubmit:l,success:d,error:c});var S=g.getPasswordDialog();S.on("shown.bs.modal",(function(){v[0].focus()})),S.modal("show")}();
//# sourceMappingURL=resetPasswordController.iife.min.js.map
