!function(){"use strict";var e=function(){return $("#set-password-form")},t=function(){return $('[data-name="reset-pass"]')},s=function(){return $('[data-name="reset-password-submit"]')};function o(e,t){for(var s=0;s<t.length;s++){var o=t[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var r,n,a,i,u,d,l,c=Nogin._,f=$("#set-password"),h={setPasswordDialog:function(){return f.modal({show:!1,keyboard:!1,backdrop:"static"}),f},getSetPasswordAlert:function(){return f.find(".alert")},showSuccess:function(){this.addAlert(c("YourPasswordHasBeenReset"))},addAlert:function(e){this.getSetPasswordAlert().text(e)},showDanger:function(){this.addAlert(c("SomethingWentWrongPleaseTryAgain"))},messages:{ShouldBeMinimumLength:c("ShouldBeMinimumLength")}},m=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.modal=h.setPasswordDialog(),this.alert=h.getSetPasswordAlert(),this.alert.hide()}var t,s,r;return t=e,r=[{key:"validatePassword",value:function(e){return e.setCustomValidity(""),e.validity.tooShort&&e.setCustomValidity(h.messages.ShouldBeMinimumLength),e.form.reportValidity()}}],(s=[{key:"getPasswordDialog",value:function(){return this.modal}},{key:"showAlert",value:function(){h.showDanger(),this.alert.show()}},{key:"hideAlert",value:function(){this.alert.hide()}},{key:"showSuccess",value:function(){h.showSuccess(),this.alert.fadeIn(500)}}])&&o(t.prototype,s),r&&o(t,r),e}(),w=new m,g=t(),v=s(),b=e();r=b,a=(n={validate:function(){w.hideAlert(),m.validatePassword(g[0])},beforeSubmit:function(e,t,s){w.hideAlert()},success:function(e,t,s,o){v.addClass("disabled"),v.prop("disabled",!0),w.showSuccess(),setTimeout((function(){Nogin.redirect("root")}),3e3)},error:function(){w.showAlert()}}).validate,i=n.url,u=n.beforeSubmit,d=n.success,l=n.error,r[0].addEventListener("change",(function(e){a(e)}),!0),r[0].addEventListener("input",(function(e){var t=e.target;t.setCustomValidity(""),t.checkValidity("")}),!0),r.ajaxForm({url:i,beforeSubmit:u,success:d,error:l});var y=w.getPasswordDialog();y.on("shown.bs.modal",(function(){g[0].focus()})),y.modal("show")}();
//# sourceMappingURL=resetPasswordController.iife.min.js.map
