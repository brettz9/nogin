!function(){"use strict";var e=function(){return $("#set-password-form")},t=function(){return $('[data-name="reset-pass"]')},s=function(){return $('[data-name="reset-password-submit"]')};function n(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,s){return t&&n(e.prototype,t),s&&n(e,s),e}var r,a,i,u,l,d,c,f=$("#set-password"),h={setPasswordDialog:function(){return f.modal({show:!1,keyboard:!1,backdrop:"static"}),f},getSetPasswordAlert:function(){return f.find(".alert")},showSuccess:function(){this.addAlert(_("YourPasswordHasBeenReset"))},addAlert:function(e){this.getSetPasswordAlert().text(e)},showDanger:function(){this.addAlert(_("SomethingWentWrongPleaseTryAgain"))},messages:{ShouldBeMinimumLength:_("ShouldBeMinimumLength")}},m=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.modal=h.setPasswordDialog(),this.alert=h.getSetPasswordAlert(),this.alert.hide()}return o(e,null,[{key:"validatePassword",value:function(e){return e.setCustomValidity(""),e.validity.tooShort&&e.setCustomValidity(h.messages.ShouldBeMinimumLength),e.form.reportValidity()}}]),o(e,[{key:"getPasswordDialog",value:function(){return this.modal}},{key:"showAlert",value:function(){h.showDanger(),this.alert.show()}},{key:"hideAlert",value:function(){this.alert.hide()}},{key:"showSuccess",value:function(){h.showSuccess(),this.alert.fadeIn(500)}}]),e}(),w=new m,g=t(),v=s(),b=e();r=b,i=(a={validate:function(){w.hideAlert(),m.validatePassword(g[0])},beforeSubmit:function(e,t,s){w.hideAlert()},success:function(e,t,s,n){v.addClass("disabled"),v.prop("disabled",!0),w.showSuccess(),setTimeout((function(){location.href=NL_ROUTES.root}),3e3)},error:function(){w.showAlert()}}).validate,u=a.url,l=a.beforeSubmit,d=a.success,c=a.error,r[0].addEventListener("change",(function(e){i(e)}),!0),r[0].addEventListener("input",(function(e){var t=e.target;t.setCustomValidity(""),t.checkValidity("")}),!0),r.ajaxForm({url:u,beforeSubmit:l,success:d,error:c});var y=w.getPasswordDialog();y.on("shown.bs.modal",(function(){g[0].focus()})),y.modal("show")}();
//# sourceMappingURL=resetPasswordController.iife.min.js.map
